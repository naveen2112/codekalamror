module PostsHelper
  def link_to_add_row(name, f, association, **args)
    new_object = Commentry.new
    id = new_object.object_id
    fields = f.fields_for(association, new_object, child_index: id) do |builder|
      render("posts/partials/commentry_form", f: builder)
    end
    name = "<span class='icon'>
            <svg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'>
            <path d='M10.75 6C10.75 5.58579 10.4142 5.25 10 5.25C9.58579 5.25 9.25 5.58579 9.25 6H10.75ZM9.25 14C9.25 14.4142 9.58579 14.75 10 14.75C10.4142 14.75 10.75 14.4142 10.75 14H9.25ZM6 9.25C5.58579 9.25
            5.25 9.58579 5.25 10C5.25 10.4142 5.58579 10.75 6 10.75V9.25ZM14 10.75C14.4142 10.75 14.75 10.4142 14.75 10C14.75 9.58579
            14.4142 9.25 14 9.25V10.75ZM12.7501 2.21925C13.1406 2.35728 13.5691 2.15259 13.7071 1.76205C13.8452 1.37151 13.6405 0.943022 13.2499
             0.804987L12.7501 2.21925ZM18.1077 4.58281C17.8773 4.23859 17.4115 4.14633 17.0673 4.37674C16.723 4.60715 16.6308 5.07298 16.8612 5.41719L18.1077 4.58281ZM8 10.75C8.41421 10.75 8.75 10.4142 8.75 10C8.75 9.58579 8.41421
             9.25 8 9.25V10.75ZM10 9.25C9.58579 9.25 9.25 9.58579 9.25 10C9.25 10.4142 9.58579 10.75 10 10.75V9.25ZM9.25 6V14H10.75V6H9.25ZM18.25 10C18.25 14.5563 14.5563 18.25 10 18.25V19.75C15.3848 19.75 19.75 15.3848 19.75 10H18.25ZM10 18.25C5.44365 18.25 1.75 14.5563 1.75 10H0.25C0.25 15.3848 4.61522 19.75 10
            19.75V18.25ZM1.75 10C1.75 5.44365 5.44365 1.75 10 1.75V0.25C4.61522 0.25 0.25 4.61522 0.25 10H1.75ZM10 1.75C10.9656 1.75 11.8909 1.91557 12.7501 2.21925L13.2499 0.804987C12.2324 0.445355 11.1382 0.25 10 0.25V1.75ZM16.8612 5.41719C17.7384 6.7277 18.25 8.30297 18.25 10H19.75C19.75 7.99674 19.145 6.1325 18.1077 4.58281L16.8612 5.41719ZM6 10.75H8V9.25H6V10.75ZM10 10.75H14V9.25H10V10.75Z' fill='#5A6474' /> </svg>
            </span>
             <span class='text'>Add new commentary</span>"
    link_to('#', class: "add_fields " + args[:class], data: { id: id, fields: fields.gsub("\n", "") }) do
      name.html_safe
    end
  end
end
