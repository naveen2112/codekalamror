<div class="preview_wrap">
  <div class="preview linked_in_post linkedin-card">
    <p class="preview_title">LinkedIn preview</p>
    <div class="card post position-relative">
      <div class="post_icon">
                <span class="linked_icon">
                    <svg width="23" height="22" viewBox="0 0 23 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5.45937 21.875H0.924219V7.27031H5.45937V21.875ZM3.18906 5.27812C1.73906 5.27812 0.5625 4.07656 0.5625 2.62656C0.5625 1.92995 0.839226 1.26188 1.3318 0.769302C1.82438 0.276726 2.49245 0 3.18906 0C3.88567 0 4.55375 0.276726 5.04632 0.769302C5.5389 1.26188 5.81562 1.92995 5.81562 2.62656C5.81562 4.07656 4.63906 5.27812 3.18906 5.27812ZM22.4328 21.875H17.9078V14.7656C17.9078 13.0711 17.8734 10.8984 15.55 10.8984C13.1922 10.8984 12.8305 12.7391 12.8305 14.6437V21.875H8.3V7.27031H12.6492V9.2625H12.7125C13.318 8.11484 14.7969 6.90391 17.0031 6.90391C21.593 6.90391 22.4367 9.92656 22.4367 13.8523V21.875H22.4328Z" fill="#0E76A8"/>
                    </svg>
                </span>
        <span class="twitter_icon">
                    <svg width="25" height="22" viewBox="0 0 25 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M25 2.59242C24.0801 3.03211 23.0916 3.32926 22.0541 3.46295C23.1132 2.77874 23.9264 1.69526 24.3093 0.404316C23.3025 1.0483 22.201 1.50203 21.0523 1.74589C20.1167 0.671474 18.7838 0 17.3085 0C14.4759 0 12.1793 2.47537 12.1793 5.52842C12.1793 5.96179 12.2247 6.38368 12.3121 6.78842C8.04941 6.55779 4.27012 4.35684 1.74033 1.012C1.29893 1.82853 1.046 2.77832 1.046 3.79137C1.046 5.70947 1.95156 7.40158 3.32773 8.39305C2.51323 8.36556 1.71665 8.12843 1.00449 7.70147C1.0042 7.72463 1.0042 7.74779 1.0042 7.77105C1.0042 10.4497 2.77217 12.6842 5.11846 13.1921C4.36317 13.4135 3.57093 13.4459 2.80225 13.2868C3.45488 15.4833 5.34912 17.0816 7.59346 17.1263C5.83809 18.6091 3.62646 19.4929 1.22354 19.4929C0.809473 19.4929 0.40127 19.4667 0 19.4157C2.26982 20.9843 4.96582 21.8996 7.8623 21.8996C17.2966 21.8996 22.4555 13.4753 22.4555 6.16958C22.4555 5.92979 22.4506 5.69137 22.4406 5.45432C23.4448 4.67188 24.3114 3.70275 25 2.59242" fill="#55ACEE"/>
                    </svg>
                </span>
      </div>
      <div class="card-body position-relative">
        <h5 class="ml-3" id="preview-post-title"><%= @post.title %></h5>
        <span class="post-info">
                    <svg width="17" height="4" viewBox="0 0 17 4" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16.8653 1.88463C16.8653 2.92548 16.0446 3.76926 15.0322 3.76926C14.0197 3.76926 13.199 2.92548 13.199 1.88463C13.199 0.843777 14.0197 0 15.0322 0C16.0446 0 16.8653 0.843777 16.8653 1.88463Z" fill="#696969"/>
                        <path d="M10.2657 1.88463C10.2657 2.92548 9.44498 3.76926 8.43254 3.76926C7.42011 3.76926 6.59937 2.92548 6.59937 1.88463C6.59937 0.843777 7.42011 0 8.43254 0C9.44498 0 10.2657 0.843777 10.2657 1.88463Z" fill="#696969"/>
                        <path d="M3.66636 1.88512C3.66636 2.92597 2.84562 3.76975 1.83318 3.76975C0.820742 3.76975 0 2.92597 0 1.88512C0 0.844265 0.820742 0.000488281 1.83318 0.000488281C2.84562 0.000488281 3.66636 0.844265 3.66636 1.88512Z" fill="#696969"/>
                    </svg>
                </span>
        <div class="user_detail row">
          <img class="thumb" src="<%= current_user.image_url %>"/>
          <div>
            <h6 class="user-name"><%= current_user.name %></h6>
            <p class="job-description">Founder</p>
          </div>
        </div>
        <div class="post_comments" id="preview-post-comment-list">
          <p class="comment">
            <%= @post.commentries&.first&.description %>
          </p>
          <div class="comment_navigation_wrap">
            <div class="row">
              <div class="button_wrap post-commentries-previous-button single_button">
                <button class="previous_button transparent-button position-relative" id="post-previous-commentry">
                  <span>
                    <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M12.4583 8.5L4.54167 8.5L7.70833 5.33333M7.70833 11.6667L6.125 10.0833M14.8844 5.33333C15.3584 6.28726 15.625 7.3625 15.625 8.5C15.625 12.435 12.435 15.625 8.5 15.625C4.56497 15.625 1.375 12.435 1.375 8.5C1.375 4.56497 4.56497 1.375 8.5 1.375C9.9647 1.375 11.3262 1.81696 12.4583 2.57481" stroke="#90A1B5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </span>
                  <span class="text">
                    Previous
                  </span>
                </button>
                <% if @post.commentries.size > 1 %>
                  <button class="next_button transparent-button" id="post-next-commentry">
                    <span class="text">Next</span>
                    <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M4.54167 8.5L12.4583 8.5L9.29167 11.6667M9.29167 5.33333L10.875 6.91667M2.11562 11.6667C1.64156 10.7127 1.375 9.6375 1.375 8.5C1.375 4.56497 4.56497 1.375 8.5 1.375C12.435 1.375 15.625 4.56497 15.625 8.5C15.625 12.435 12.435 15.625 8.5 15.625C7.0353 15.625 5.67383 15.183 4.54167 14.4252" stroke="#90A1B5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </button>
                <% end %>
              </div>
              <span class="pagination"><span class="preview-commentries-count">1</span>/<%= @post.commentries.size %></span>
            </div>
          </div>
        </div>
        <div class="post_image_wrap">
          <% if @post.image.attached? %>
            <img src="<%= @post.image.url %>" alt="" id="preview-post-image" style="height: 13rem;">
          <% end %>
          <div class="post-desc">
            <%= @post.commentries.first.description %>
            <a href="<%= @post.main_url %>" class="post-link"><%= @post.main_url.gsub("http://", "") %></a>
          </div>
        </div>
      </div>

      <div class="card_buttons">
        <div class="row twitter_button_wrap">
          <button class="post_footer_button transparent-button">
            <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M6.5 10.25C6.77614 10.25 7 10.4739 7 10.75V12.7079C9.74874 11.1024 11.4025 9.96659 12.3999 8.97494C12.9787 8.39946 13.2971 7.9087 13.482 7.44074C13.6679 6.97021 13.75 6.44448 13.75 5.75C13.75 3.26472 11.7353 1.25 9.25 1.25H5.75C3.26472 1.25 1.25 3.26472 1.25 5.75C1.25 8.23528 3.26472 10.25 5.75 10.25H6.5ZM7 14.1529C13.6641 10.3177 15 8.74691 15 5.75C15 2.57436 12.4256 0 9.25 0H5.75C2.57436 0 0 2.57436 0 5.75C0 8.92564 2.57436 11.5 5.75 11.5V14.0086C5.75 14.3911 6.16196 14.6318 6.4943 14.4424C6.66618 14.3445 6.83473 14.248 7 14.1529Z" fill="#90A1B5"/>
            </svg>
            <span class="count">7</span>
          </button>
          <button class="post_footer_button transparent-button">
            <svg width="19" height="15" viewBox="0 0 19 15" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M3.90533 0.792912C3.61244 0.500019 3.13756 0.500019 2.84467 0.792912L0.256282 3.3813C-0.0854272 3.72301 -0.0854272 4.27703 0.256282 4.61874C0.59799 4.96045 1.15201 4.96045 1.49372 4.61874L2.5 3.61246V10.5C2.5 12.364 4.01104 13.875 5.875 13.875H9.875C10.3582 13.875 10.75 13.4833 10.75 13C10.75 12.5168 10.3582 12.125 9.875 12.125H5.875C4.97754 12.125 4.25 11.3975 4.25 10.5V3.61246L5.25628 4.61874C5.59799 4.96045 6.15201 4.96045 6.49372 4.61874C6.83543 4.27703 6.83543 3.72301 6.49372 3.3813L3.90533 0.792912ZM8.5 0.749981C8.01675 0.749981 7.625 1.14173 7.625 1.62498C7.625 2.10823 8.01675 2.49998 8.5 2.49998H12.5C13.3975 2.49998 14.125 3.22752 14.125 4.12498V11.0125L13.1187 10.0063C12.777 9.66455 12.223 9.66455 11.8813 10.0063C11.5396 10.348 11.5396 10.902 11.8813 11.2437L14.4697 13.8321C14.7626 14.125 15.2374 14.125 15.5303 13.8321L18.1187 11.2437C18.4604 10.902 18.4604 10.348 18.1187 10.0063C17.777 9.66455 17.223 9.66455 16.8813 10.0063L15.875 11.0125V4.12498C15.875 2.26102 14.364 0.749981 12.5 0.749981H8.5Z" fill="#90A1B5"/>
            </svg>
            <span class="count">1</span>
          </button>
          <button class="post_footer_button transparent-button">
            <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M6.5511 1.37525L6.925 1.56219C7.54166 1.87051 8.04167 2.3705 8.35 2.98713C8.4118 3.11073 8.5882 3.11073 8.65 2.98713C8.95833 2.3705 9.45834 1.87051 10.075 1.56219L10.4489 1.37525C11.2078 0.995802 12.0775 0.900344 12.9007 1.10613C13.6927 1.30412 14.3924 1.76869 14.8822 2.42177L15.0921 2.70156C15.6814 3.48733 16 4.44304 16 5.42525V5.73774C16 6.18554 15.9451 6.63165 15.8365 7.06609L15.7633 7.35877C15.507 8.38382 15.0484 9.3473 14.4144 10.1926L13.9881 10.761C13.6631 11.1943 13.3078 11.604 12.9248 11.9869L12.4924 12.4193C11.5039 13.4077 10.3626 14.2303 9.11225 14.8555C8.72683 15.0482 8.27317 15.0482 7.88775 14.8555C6.63743 14.2303 5.49607 13.4077 4.50761 12.4193L4.07522 11.9869C3.69222 11.604 3.33689 11.1943 3.01191 10.761L2.58558 10.1926C1.95159 9.3473 1.49298 8.38382 1.23671 7.35877L1.16354 7.06609C1.05492 6.63165 1 6.18554 1 5.73774V5.42525C1 4.44304 1.31859 3.48733 1.90794 2.70156L2.11779 2.42177C2.60762 1.76869 3.30733 1.30412 4.09934 1.10613C4.92252 0.900344 5.79217 0.995802 6.5511 1.37525Z" stroke="#90A1B5"/>
            </svg>
            <span class="count">3</span>
          </button>
          <button class="post_footer_button transparent-button">
            <svg width="16" height="15" viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M7.27145 0.146447C7.46671 -0.0488154 7.78329 -0.0488157 7.97855 0.146446L11.5669 3.73484C11.811 3.97891 11.811 4.37464 11.5669 4.61872C11.3229 4.8628 10.9271 4.8628 10.6831 4.61872L8.25 2.18566V9.67678C8.25 10.022 7.97018 10.3018 7.625 10.3018C7.27982 10.3018 7 10.022 7 9.67678V2.18566L4.56694 4.61872C4.32286 4.8628 3.92714 4.8628 3.68306 4.61872C3.43898 4.37464 3.43898 3.97891 3.68306 3.73484L7.27145 0.146447ZM0.625 8.05178C0.970178 8.05178 1.25 8.3316 1.25 8.67678V12.6768C1.25 13.16 1.64175 13.5518 2.125 13.5518H13.125C13.6082 13.5518 14 13.16 14 12.6768V8.67678C14 8.3316 14.2798 8.05178 14.625 8.05178C14.9702 8.05178 15.25 8.3316 15.25 8.67678V12.6768C15.25 13.8504 14.2986 14.8018 13.125 14.8018H2.125C0.951395 14.8018 0 13.8504 0 12.6768V8.67678C0 8.3316 0.279822 8.05178 0.625 8.05178Z" fill="#90A1B5"/>
            </svg>
          </button>
        </div>
        <div class="row button_wrap">
          <button class="post_footer_button transparent-button">
            <svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M22.7506 10.5625H17.8756V21.125H22.7506C22.9661 21.125 23.1728 21.0394 23.3251 20.887C23.4775 20.7347 23.5631 20.528 23.5631 20.3125V11.375C23.5631 11.1595 23.4775 10.9528 23.3251 10.8005C23.1728 10.6481 22.9661 10.5625 22.7506 10.5625V10.5625Z" stroke="#707070" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M17.8756 10.5625L13.8131 2.4375C13.3863 2.4375 12.9637 2.52156 12.5694 2.68489C12.1751 2.84822 11.8168 3.08761 11.515 3.3894C11.2132 3.69119 10.9738 4.04947 10.8105 4.44378C10.6472 4.83809 10.5631 5.2607 10.5631 5.6875V8.125H4.27888C4.04847 8.125 3.82069 8.174 3.61066 8.26875C3.40062 8.3635 3.21314 8.50183 3.06065 8.67457C2.90817 8.84731 2.79416 9.0505 2.72619 9.27066C2.65822 9.49082 2.63785 9.72292 2.66643 9.95156L3.88518 19.7016C3.93431 20.0946 4.12528 20.4561 4.4222 20.7182C4.71913 20.9803 5.10156 21.125 5.49763 21.125H17.8756" stroke="#707070" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Like</span>
          </button>
          <button class="post_footer_button transparent-button">
            <svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M4.61386 17.9765C3.40249 15.9344 2.97825 13.5204 3.42082 11.1876C3.86339 8.85489 5.14232 6.76396 7.01744 5.30745C8.89257 3.85094 11.2349 3.12905 13.6046 3.27734C15.9743 3.42563 18.2084 4.4339 19.8873 6.11281C21.5662 7.79172 22.5745 10.0258 22.7228 12.3955C22.8711 14.7652 22.1492 17.1076 20.6927 18.9827C19.2362 20.8578 17.1453 22.1368 14.8126 22.5793C12.4798 23.0219 10.0658 22.5977 8.02369 21.3863L8.02372 21.3862L4.65625 22.3484C4.51693 22.3882 4.3695 22.39 4.22923 22.3536C4.08896 22.3173 3.96097 22.2441 3.85851 22.1416C3.75605 22.0392 3.68286 21.9112 3.64651 21.7709C3.61017 21.6307 3.61199 21.4832 3.6518 21.3439L4.61393 17.9764L4.61386 17.9765Z" stroke="#707070" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M9.75 11.375H16.25" stroke="#707070" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M9.75 14.625H16.25" stroke="#707070" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Comment</span>
          </button>
          <button class="post_footer_button transparent-button">
            <svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M17.875 15.4375L22.75 10.5625L17.875 5.6875" stroke="#707070" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M3.25 20.3125C3.25 17.7266 4.27723 15.2467 6.10571 13.4182C7.93419 11.5897 10.4141 10.5625 13 10.5625H22.75" stroke="#707070" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Share</span>
          </button>
          <button class="post_footer_button transparent-button">
            <svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M21.3535 3.64379L2.42959 8.98131C2.27038 9.02621 2.12868 9.11864 2.02341 9.24623C1.91814 9.37382 1.85433 9.53051 1.84049 9.69534C1.82666 9.86018 1.86347 10.0253 1.94599 10.1687C2.02852 10.312 2.15284 10.4268 2.30233 10.4976L10.9972 14.6162C11.1668 14.6965 11.3033 14.8331 11.3836 15.0027L15.5023 23.6975C15.5731 23.847 15.6878 23.9713 15.8312 24.0538C15.9745 24.1364 16.1397 24.1732 16.3045 24.1593C16.4693 24.1455 16.626 24.0817 16.7536 23.9764C16.8812 23.8712 16.9736 23.7295 17.0185 23.5703L22.356 4.64634C22.3953 4.50734 22.3967 4.36039 22.3602 4.22064C22.3238 4.08089 22.2507 3.95338 22.1486 3.85126C22.0465 3.74913 21.9189 3.67607 21.7792 3.6396C21.6394 3.60314 21.4925 3.60458 21.3535 3.64379Z" stroke="#707070" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M11.2595 14.7407L15.8557 10.1445" stroke="#707070" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Send</span>
          </button>
        </div>
      </div>

    </div>
  </div>
</div>
</div>

<script>
    $(document).ready(function () {
        $("#post-next-commentry").click(function () {
            post_commentry("next")
        })

        $("#post-previous-commentry").click(function () {
            post_commentry("prevoius")
        })

        function post_commentry(button) {

            var cycle_count = button == "next" ? (parseInt($(".preview-commentries-count").text()) + 1) : (parseInt($(".preview-commentries-count").text()) - 1)
            $(".preview-commentries-count").text(cycle_count)

            $(".comment").empty()
            var commentries = []

            <% @post.commentries.each do |commentry| %>
            commentries.push("<%= commentry.description %>")
            <% end %>

            var comment_count = cycle_count - 1
            if (comment_count == 0) {
                $(".post-commentries-previous-button").addClass("single_button")
                $(".comment").append(commentries[comment_count])
            } else {
                $(".post-commentries-previous-button").removeClass("single_button")
                $(".comment").append(commentries[comment_count])
            }

            if (cycle_count >= <%= @post.commentries.size %>) {
                $("#post-next-commentry").hide()
                $("#post-previous-commentry").show()
            } else if (cycle_count <= 1) {
                $("#post-previous-commentry").hide()
                $("#post-next-commentry").show()
            } else {
                $("#post-previous-commentry").show()
                $("#post-next-commentry").show()
            }
        }
    })
</script>