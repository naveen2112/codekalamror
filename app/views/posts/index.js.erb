<% if @posts.count == 0 %>
  $("#posts-list").html("<%= j render("posts/partials/no_posts") %>");
  $("#paginate-infinite-scrolling .pagination").empty();
<% else %>
  <% if params[:page].blank? %>
    $("#posts-list").html("<%= j render("posts/partials/index") %>");
  <% else %>
    $("#posts-list").append('<%= j render("posts/partials/index") %>');
  <% end %>
  <% if @posts.next_page %>
    $("#paginate-infinite-scrolling .pagination").replaceWith('<%= j will_paginate(@posts) %>');
  <% else %>
    $("#paginate-infinite-scrolling .pagination").empty();
  <% end %>
<% end %>

<% @posts.each do |post| %>
 $(document).ready(function (){
     $(document).on("click", "#post-edit-delete-<%= post.id %>", function () {
         var classes = $("#post-cards-<%= post.id %>").attr("class")
         if (classes.split(" ").includes('show-post-option')) {
             $("#post-cards-<%= post.id %>").removeClass("show-post-option")
         } else {
             $("#post-cards-<%= post.id %>").addClass("show-post-option")
         }
     })
 })
<% end %>